# Alerting System Configuration
# Copy this file to .env and fill in your actual credentials

# ============================================================================
# General Settings
# ============================================================================
ALERT_THROTTLE_WINDOW=300          # Throttle window in seconds (default: 300 = 5 minutes)

# ============================================================================
# Email Alerts (via SMTP)
# ============================================================================
ALERT_EMAIL_ENABLED=true           # Enable email alerts
SMTP_HOST=smtp.gmail.com           # SMTP server hostname
SMTP_PORT=587                      # SMTP server port (587 for TLS, 465 for SSL)
SMTP_USERNAME=your_email@gmail.com # SMTP username (usually your email)
SMTP_PASSWORD=your_app_password    # SMTP password (use app password for Gmail)
SMTP_USE_TLS=true                  # Use TLS encryption (recommended)
ALERT_EMAIL_FROM=trading-alerts@yourcompany.com  # Sender email address
ALERT_EMAIL_TO=admin@yourcompany.com,ops@yourcompany.com  # Comma-separated recipients

# Gmail App Password Instructions:
# 1. Enable 2FA: https://myaccount.google.com/security
# 2. Generate App Password: https://myaccount.google.com/apppasswords
# 3. Use the generated 16-character password above

# ============================================================================
# Slack Alerts (via Webhooks)
# ============================================================================
ALERT_SLACK_ENABLED=true           # Enable Slack alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL  # Slack incoming webhook URL
SLACK_USERNAME=Trading System      # Bot username (optional)
SLACK_ICON_EMOJI=:chart_with_upwards_trend:  # Bot icon emoji (optional)

# Slack Webhook Instructions:
# 1. Go to: https://api.slack.com/messaging/webhooks
# 2. Create new app or use existing
# 3. Activate incoming webhooks
# 4. Add webhook to workspace
# 5. Copy webhook URL above

# ============================================================================
# PagerDuty Alerts (via Events API v2)
# ============================================================================
ALERT_PAGERDUTY_ENABLED=true       # Enable PagerDuty alerts
PAGERDUTY_INTEGRATION_KEY=your_integration_key_here  # PagerDuty integration key (routing key)
PAGERDUTY_MIN_SEVERITY=critical    # Minimum severity to send to PagerDuty (info/warning/critical)

# PagerDuty Integration Instructions:
# 1. Go to: Services → Your Service → Integrations
# 2. Add integration: Events API v2
# 3. Copy integration key above

# ============================================================================
# Alert Routing Configuration
# ============================================================================
# Default routing (can be customized in code):
# - INFO alerts → Email only
# - WARNING alerts → Email + Slack
# - CRITICAL alerts → Email + Slack + PagerDuty

# ============================================================================
# Testing Configuration
# ============================================================================
# For testing, you can disable channels individually:
# ALERT_EMAIL_ENABLED=false
# ALERT_SLACK_ENABLED=false
# ALERT_PAGERDUTY_ENABLED=false

# Or use test credentials:
# SMTP_HOST=localhost
# SMTP_PORT=1025  # MailHog or similar test SMTP server
# SLACK_WEBHOOK_URL=https://webhook.site/your-test-id
